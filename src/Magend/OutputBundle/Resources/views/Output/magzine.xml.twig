{% extends '::base.xml.twig' %}

{% block body %}
    {# old output
    <Magazine>
        <Issues>
            {% for issue in issues %}
            <Issue
                id="{{ issue.id }}"
                title="{{ issue.title }}"
                landscapeCover="{% if issue.landscapeCover is not null %}{{ asset('uploads/' ~ issue.landscapeCover) }}{% endif %}"
                portraitCover="{% if issue.portraitCover is not null %}{{ asset('uploads/' ~ issue.portraitCover) }}{% endif %}"
                price="{{ issue.priceLevel }}"
                preview="{% if issue.preview is not null %}{{ asset('uploads/' ~ issue.preview) }}{% endif %}"
                year="{{ issue.yearIssueNo }}"
                total="{{ issue.totalIssueNo }}"
                audio="{% if issue.audio is not null %}{{ asset('uploads/' ~ issue.audio) }}{% endif %}"
                publish="{{ issue.publishedAt|date('Y-m-d') }}"
            ></Issue>
            {% endfor %}
        </Issues>
    </Magazine>
    #}
    
    <MagazineList>
        {% for issue in issues %}
        <Magazine>
            <GroupId>{{ magzine.id }}</GroupId>
            <GroupName>{{ magzine.name }}</GroupName>
            <IssueId>{{ issue.id }}</IssueId>
            <IssueName>{{ issue.title }}</IssueName>
            <LandscapeCover>{{ issue.landscapeCover }}</LandscapeCover>
            <PortraitCover>{{ issue.portraitCover }}</PortraitCover>
            <IAPProductionID>{{ issue.iapId }}</IAPProductionID>
            <Period>{{ issue.yearIssueNo }}</Period>
            <Year>{{ issue.year }}</Year>
            <TotalPeriod>{{ issue.totalIssueNo }}</TotalPeriod>
            <Price>{{ issue.priceLevel }}</Price>
            <MType>1</MType>
            <Preview>{{ issue.preview }}</Preview>
            <Audio>{{ issue.audio }}</Audio>
            <Publish>{{ issue.publishedAt|date('Y-m-d') }}</Publish>
            <PublishMode>{{ issue.publishMode }}</PublishMode>
        </Magazine>
        {% endfor %}
    </MagazineList>
{% endblock %}